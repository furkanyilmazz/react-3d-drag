"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/objectWithoutPropertiesLoose"),r=require("react"),t=require("@react-three/fiber"),a=require("./Billboard.cjs.js"),n=require("./useTexture.cjs.js"),i=require("../assets/cloud.base64.cjs.js");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}require("@babel/runtime/helpers/extends"),require("./shapes.cjs.js"),require("react-merge-refs"),require("three"),require("../helpers/base64.cjs.js"),require("blob-polyfill");var u=o(e),c=s(r);exports.Cloud=function(e){var r=e.opacity,o=void 0===r?.5:r,s=e.speed,l=void 0===s?.4:s,d=e.width,f=void 0===d?10:d,p=e.length,h=void 0===p?1.5:p,m=e.segments,b=void 0===m?20:m,j=e.dir,v=void 0===j?1:j,y=u.default(e,["opacity","speed","width","length","segments","dir"]),M=c.useRef(),q=n.useTexture(i),g=c.useMemo((function(){return[].concat(new Array(b)).map((function(e,r){return{x:f/2-Math.random()*f,y:f/2-Math.random()*f,scale:.4+Math.sin((r+1)/b*Math.PI)*(10*(.2+Math.random())),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*l}}))}),[f,b,l]);return t.useFrame((function(e){var r;return null==(r=M.current)?void 0:r.children.forEach((function(r,t){r.rotation.z+=g[t].rotation*v,r.scale.setScalar(g[t].scale+(1+Math.sin(e.clock.getElapsedTime()/10))/2*t/10)}))})),c.createElement("group",y,c.createElement("group",{position:[0,0,b/2*h],ref:M},g.map((function(e,r){var t=e.x,n=e.y,i=e.scale,s=e.density;return c.createElement(a.Billboard,{key:r,scale:[i,i,i],position:[t,n,-r*h],lockZ:!0},c.createElement("meshStandardMaterial",{map:q,transparent:!0,opacity:i/6*s*o,depthTest:!1}))}))))};
