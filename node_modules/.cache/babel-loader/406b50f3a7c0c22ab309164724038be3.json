{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\nconst Line = /*#__PURE__*/React.forwardRef(function Line({\n  points,\n  color = 'black',\n  vertexColors,\n  lineWidth,\n  dashed,\n  ...rest\n}, ref) {\n  const [line2] = React.useState(() => new Line2());\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const [resolution] = React.useState(() => new Vector2(512, 512));\n  const lineGeom = React.useMemo(() => {\n    const geom = new LineGeometry();\n    const pValues = points.map(p => p instanceof Vector3 ? p.toArray() : p);\n    geom.setPositions(pValues.flat());\n\n    if (vertexColors) {\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => lineGeom.dispose();\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\nexport { Line };","map":{"version":3,"sources":["/Users/a2017/Documents/GitHub/react-3d-drag/node_modules/@react-three/drei/core/Line.js"],"names":["_extends","React","Vector2","Vector3","Color","Line2","LineMaterial","LineGeometry","Line","forwardRef","points","color","vertexColors","lineWidth","dashed","rest","ref","line2","useState","lineMaterial","resolution","lineGeom","useMemo","geom","pValues","map","p","toArray","setPositions","flat","cValues","c","setColors","useLayoutEffect","computeLineDistances","defines","USE_DASH","needsUpdate","useEffect","dispose","createElement","object","attach","Boolean","linewidth"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\n\nconst Line = /*#__PURE__*/React.forwardRef(function Line({\n  points,\n  color = 'black',\n  vertexColors,\n  lineWidth,\n  dashed,\n  ...rest\n}, ref) {\n  const [line2] = React.useState(() => new Line2());\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const [resolution] = React.useState(() => new Vector2(512, 512));\n  const lineGeom = React.useMemo(() => {\n    const geom = new LineGeometry();\n    const pValues = points.map(p => p instanceof Vector3 ? p.toArray() : p);\n    geom.setPositions(pValues.flat());\n\n    if (vertexColors) {\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => lineGeom.dispose();\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\n\nexport { Line };\n"]},"metadata":{},"sourceType":"module"}